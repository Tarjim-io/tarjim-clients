## Instructions
Setup tarjim in cake before react

### Setup:
1. install i18n-js `npm install i18n-js`
2. install lodash `npm install lodash`
3. edit project_id in update_locale.php
4. run update_locale.php `php update_locale.php`
5. add `php update_locale.php` to setup_environment script
6. in App.js: 	
	* import { LocalizationProvider } from 'services/tarjim_clients/react';
	* add <LocalizationService> as parent tag
7. add to the url params for all api calls skip_get_translations=1

### Usage:
```
import React, { useContext } from 'react';
import { LocalizationContext } from 'services/tarjim_clients/react';
```
* Transalte: 
```		
const { __T } = useContext(LocalizationContext);
```
* Change lang:
```
const { setTranslation } = useContext(LocalizationContext);
setTranslation(language);
```
* Get current lang: 
```
cont { getCurrentLocale } = useContext(LocalizationContext);
```

### To use variables in translation value
* In tarjim.io add the variables you want as %%variable_name%%
* In react pass the key as an array
```
key = [
	'key' => 'tarjim_key',
	'mappings' => [
		'var1' => 'var1 value',
	]
]
```
* If the mapping array contains nested arrays ex:
```
key = [
	'key' => 'tarjim_key',
	'mappings' => [
		'subkey1' => [
			'var1' => 'var1 value',
		],
		'subkey2' => [
			'var1' => 'var1 value',
		],
	]
]
```

	pass subkey in react in config ex:
```
__T(key, {subkey: 'subkey1'})
```

* Important note
you might need to camelize the subkey before using it in __T()

## Important notes
1. in index.js
	* Change translationKeys, supportedLanguages, translations with your projects available languages
	* In translationKeys var change 'react' to your projects's namespace
	* For react native
		1. remove document.getElementById('language') and set default language to en

